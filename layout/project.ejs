<article class="post-single">
  <h2 class="post-title">
    <%= page.title || (page.project && page.project.title) %>
  </h2>

  <% if (page.project) { %>
  <div class="post-meta">
    <time datetime="<%= date_xml(page.project.date) %>">
      <%= date(page.project.date, config.date_format || 'YYYY-MM-DD') %>
    </time>

    <% if (page.project.read_time) { %>
    <span class="meta-sep">-</span>
    <%= read_time(page.project, true) %>
    <% } %>
  </div>

  <div class="post-content">
    <%- page.project.content || '' %>
  </div>

  <% if (page.project.project_tags && page.project.project_tags.length) { %>
  <div class="post-tags">
    Tags:
    <% page.project.project_tags.forEach(function(tag, i) { %>
    <a href="<%= project_tag_url(tag) %>"><%= tag %></a><%= i < page.project.project_tags.length - 1 ? ', ' : '' %>
    <% }); %>
  </div>
  <% } %>

  <div class="post-meta-bottom">
    <% if (page.project.buttons && page.project.buttons.length) { %>
    <nav>
      <% page.project.buttons.forEach(function(button) { %>
      <a href="<%= button.url %>" class="post-btn" target="_blank" rel="noopener">
        <%= button.text || button.name %>
      </a>
      <% }); %>
    </nav>
    <% } %>
    <% var hash = short_hash_for(page.project.path); %>
    <% if (hash) { %>
    <a href="<%= url_for('/s/' + hash + '/') %>">
      #<%= hash %>
    </a>
    <% } %>
  </div>
  <%- partial('partial/comments') %>
  <% } else { %>
  <p>Project data missing.</p>
  <% } %>
</article>